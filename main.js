var d=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var r=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var s=(n,t)=>{for(var e in t)d(n,e,{get:t[e],enumerable:!0})},y=(n,t,e,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of r(t))!p.call(n,o)&&o!==e&&d(n,o,{get:()=>t[o],enumerable:!(a=l(t,o))||a.enumerable});return n};var k=n=>y(d({},"__esModule",{value:!0}),n);var w={};s(w,{default:()=>c});module.exports=k(w);var i=require("obsidian"),c=class extends i.Plugin{async onload(){this.addRibbonIcon("copy","Copy delinked note",async()=>{await this.copyDelinkednote()}),this.addCommand({id:"copy-delinked-note",name:"Copy current note with links removed",callback:async()=>{await this.copyDelinkednote()}})}async copyDelinkednote(){let t=this.app.workspace.getActiveFile();if(!t){new i.Notice("No active note to copy");return}let e=await this.app.vault.read(t),a=this.delink(e);await navigator.clipboard.writeText(a),new i.Notice("Copied delinked note to clipboard")}delink(t){let e=t;return e=e.replace(/\[\[([^\]|]+)\|([^\]]+)\]\]/g,"$2"),e=e.replace(/\[\[([^\]]+)\]\]/g,"$1"),e=e.replace(/\[([^\]]+)\]\([^)]+\)/g,"$1"),e=e.replace(/\\([_*#\[\]|\\`~<>])/g,"$1"),e}};
